# Create and Insert Department table

Let's create Department table, to create a new table in PostgreSQL, you use the CREATE TABLE statement, table name and field name, field datatype and constriants. Once we create the table we will review how Postgres describes the table structure.


```postgresql
CREATE TABLE department(
department_number integer CONSTRAINT department_number_pk PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY ,
Department_name VARCHAR (50) constraint department_ak UNIQUE NOT NULL
);
``` {{execute}}

Let's review the depatment table structure.

```postgresql
\d department
``` {{execute}}

  - department_number    
      - is of data type integer, the GENERATED BY DEFAULT also instructs
        PostgreSQL to generate a value for the identity column. However,
        if you provide a value for insert or update, PostgreSQL will use
        that value to insert into the identity column instead of using
        the system-generated value.
      - GENERATED AS IDENTITY constraint also uses the SEQUENCE object
        internally.
      - Created a Primary Key constraint of name department_number_pk,
        this constraint is the combination of NOT NULL and UNIQUE
        constraint. PostgreSQL automatically creates a unique index when
        a unique constraint or primary key is defined for a table. You
        can see "department_number_pk" PRIMARY KEY, btree
        (department_number)
        
  - department_name    
      - is of data type character varying(n), where n is a positive
        integer, in this case defined to be 50.    
      - Created a unique constraint of name department_ak and not null.
        Here again PostgreSQL automatically creates a unique index when
        a unique constraint is defined for a table. You can see
        "department_ak" UNIQUE CONSTRAINT, btree (department_name)

  
Let’s insert data in department table and understand how Indentity columns work. 

```postgresql
insert into public.department ( department_name)
values ('SALES').
values ('PAYROLL'),
values ('RESEARCH'),
values ('MARKETING'),
values ('GRAPHICS');

Select * from department;
``` {{execute}}

Let's insert value in department_value manaually and review the data.

```postgresql
insert into public.department ( department_number,department_name)
values (6, 'APPLICATION DEVELOPMENT');
Select * from department;
``` {{execute}}

Below insert will will error again here the value of the identity was not set when we inserted row manually. 

```postgresql
insert into public.department ( department_name)
values ('OPERATIONS');
``` {{execute}}

Let's insert without the department_number and see if department_number identity auto increments.

```postgresql
insert into public.department ( department_name)
values ('OPERATIONS');

insert into public.department ( department_name)
values ('ACCOUNTING');
``` {{execute}}

Let's review data in detpartment table.

```postgresql
select * from department;
``` {{execute}}

Let's move forward.
